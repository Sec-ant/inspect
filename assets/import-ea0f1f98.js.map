{"version":3,"file":"import-ea0f1f98.js","sources":["../../node_modules/.pnpm/browser-fs-access@0.34.1/node_modules/browser-fs-access/dist/index.modern.js","../../src/utils/import.ts"],"sourcesContent":["const e=(()=>{if(\"undefined\"==typeof self)return!1;if(\"top\"in self&&self!==top)try{top}catch(e){return!1}return\"showOpenFilePicker\"in self})(),t=e?Promise.resolve().then(function(){return l}):Promise.resolve().then(function(){return v});async function n(...e){return(await t).default(...e)}const r=e?Promise.resolve().then(function(){return y}):Promise.resolve().then(function(){return b});async function i(...e){return(await r).default(...e)}const a=e?Promise.resolve().then(function(){return m}):Promise.resolve().then(function(){return k});async function o(...e){return(await a).default(...e)}const s=async e=>{const t=await e.getFile();return t.handle=e,t};var c=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((e,n)=>{t[n]={description:e.description||\"Files\",accept:{}},e.mimeTypes?e.mimeTypes.map(r=>{t[n].accept[r]=e.extensions||[]}):t[n].accept[\"*/*\"]=e.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(s));return e[0].multiple?r:r[0]},l={__proto__:null,default:c};function u(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return u=function(e){this.s=e,this.n=e.next},u.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new u(e)}const p=async(e,t,n=e.name,r)=>{const i=[],a=[];var o,s=!1,c=!1;try{for(var l,d=function(e){var t,n,r,i=2;for(\"undefined\"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new u(t.call(e));n=\"@@asyncIterator\",r=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}(e.values());s=!(l=await d.next()).done;s=!1){const o=l.value,s=`${n}/${o.name}`;\"file\"===o.kind?a.push(o.getFile().then(t=>(t.directoryHandle=e,t.handle=o,Object.defineProperty(t,\"webkitRelativePath\",{configurable:!0,enumerable:!0,get:()=>s})))):\"directory\"!==o.kind||!t||r&&r(o)||i.push(p(o,t,s,r))}}catch(e){c=!0,o=e}finally{try{s&&null!=d.return&&await d.return()}finally{if(c)throw o}}return[...(await Promise.all(i)).flat(),...await Promise.all(a)]};var d=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||\"read\";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:p(t,e.recursive,void 0,e.skipDirectory)},y={__proto__:null,default:d},f=async(e,t=[{}],n=null,r=!1,i=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||\"Untitled\";const a=[];let o=null;if(e instanceof Blob&&e.type?o=e.type:e.headers&&e.headers.get(\"content-type\")&&(o=e.headers.get(\"content-type\")),t.forEach((e,t)=>{a[t]={description:e.description||\"Files\",accept:{}},e.mimeTypes?(0===t&&o&&e.mimeTypes.push(o),e.mimeTypes.map(n=>{a[t].accept[n]=e.extensions||[]})):o?a[t].accept[o]=e.extensions||[]:a[t].accept[\"*/*\"]=e.extensions||[]}),n)try{await n.getFile()}catch(e){if(n=null,r)throw e}const s=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:a,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&i&&i(s);const c=await s.createWritable();if(\"stream\"in e){const t=e.stream();return await t.pipeTo(c),s}return\"body\"in e?(await e.body.pipeTo(c),s):(await c.write(await e),await c.close(),s)},m={__proto__:null,default:f},w=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement(\"input\");r.type=\"file\";const i=[...e.map(e=>e.mimeTypes||[]),...e.map(e=>e.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=i||\"\",r.style.display=\"none\",document.body.append(r);const a=e=>{\"function\"==typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(a,()=>o(n),r),s=()=>{window.removeEventListener(\"focus\",s),r.remove()};r.addEventListener(\"click\",()=>{window.addEventListener(\"focus\",s)}),r.addEventListener(\"change\",()=>{window.removeEventListener(\"focus\",s),r.remove(),a(r.multiple?Array.from(r.files):r.files[0])}),\"showPicker\"in HTMLInputElement.prototype?r.showPicker():r.click()})),v={__proto__:null,default:w},h=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement(\"input\");r.type=\"file\",r.webkitdirectory=!0;const i=e=>{\"function\"==typeof a&&a(),t(e)},a=e[0].legacySetup&&e[0].legacySetup(i,()=>a(n),r);r.addEventListener(\"change\",()=>{let t=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter(t=>t.webkitRelativePath.split(\"/\").every(t=>!e[0].skipDirectory({name:t,kind:\"directory\"})))):t=t.filter(e=>2===e.webkitRelativePath.split(\"/\").length),i(t)}),\"showPicker\"in HTMLInputElement.prototype?r.showPicker():r.click()})),b={__proto__:null,default:h},P=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement(\"a\");let r=e;\"body\"in e&&(r=await async function(e,t){const n=e.getReader(),r=new ReadableStream({start:e=>async function t(){return n.read().then(({done:n,value:r})=>{if(!n)return e.enqueue(r),t();e.close()})}()}),i=new Response(r),a=await i.blob();return n.releaseLock(),new Blob([a],{type:t})}(e.body,e.headers.get(\"content-type\"))),n.download=t.fileName||\"Untitled\",n.href=URL.createObjectURL(await r);const i=()=>{\"function\"==typeof a&&a()},a=t.legacySetup&&t.legacySetup(i,()=>a(),n);return n.addEventListener(\"click\",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),i()}),n.click(),null},k={__proto__:null,default:P};export{i as directoryOpen,h as directoryOpenLegacy,d as directoryOpenModern,n as fileOpen,w as fileOpenLegacy,c as fileOpenModern,o as fileSave,P as fileSaveLegacy,f as fileSaveModern,e as supported};\n","import { fileOpen } from 'browser-fs-access';\nimport { message } from './discrete';\nimport { loadAsync } from 'jszip';\nimport type { Snapshot } from './types';\nimport {\n  urlStorage,\n  snapshotStorage,\n  screenshotStorage,\n  setSnapshot,\n} from './storage';\nimport { enhanceFetch } from './fetch';\nimport { isPngBf, isZipBf } from './file_type';\nimport pLimit from 'p-limit';\n\nfunction splitArrayBuffer(\n  arrayBuffer: ArrayBuffer,\n  delimiter: ArrayBuffer,\n  limit?: number,\n): ArrayBuffer[] {\n  const view = new Uint8Array(arrayBuffer);\n  const delimiterView = new Uint8Array(delimiter);\n  const delimiterLength = delimiterView.length;\n\n  const parts: ArrayBuffer[] = [];\n  let startIndex = 0;\n  let delimiterIndex = -1;\n  let count = 0;\n\n  for (let i = 0; i < view.length; i++) {\n    if (view[i] === delimiterView[0]) {\n      delimiterIndex = 0;\n      for (let j = 1; j < delimiterLength; j++) {\n        if (view[i + j] !== delimiterView[j]) {\n          delimiterIndex = -1;\n          break;\n        }\n      }\n      if (delimiterIndex === 0) {\n        const part = arrayBuffer.slice(startIndex, i);\n        parts.push(part);\n        startIndex = i + delimiterLength;\n        i += delimiterLength - 1;\n        count++;\n\n        if (limit && count === Math.abs(limit)) {\n          break;\n        }\n      }\n    }\n  }\n\n  if (startIndex < view.length) {\n    const part = arrayBuffer.slice(startIndex);\n    parts.push(part);\n  }\n\n  return parts;\n}\n\nconst pngEndBf = new Uint8Array([\n  0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82,\n]).buffer;\nconst decoder = new TextDecoder();\n\nexport const importFromLocal = async () => {\n  const files = await fileOpen({\n    multiple: true,\n    mimeTypes: [`image/png`, `application/zip`],\n  });\n  const zipfiles = files.filter((f) => f.name.endsWith(`.zip`));\n  const pngfiles = files.filter((f) => f.name.endsWith(`.png`));\n  if (zipfiles.length == 0 && pngfiles.length == 0) {\n    message.warning(`没有发现可导入文件`);\n    return;\n  }\n  let importNum = 0;\n  if (zipfiles.length > 0) {\n    await Promise.any(\n      zipfiles.map(async (file) => {\n        const zip = await loadAsync(file);\n        const snapshotFile = zip.filter((s) => s.endsWith(`.json`))[0];\n        const screenshotFile = zip.filter((s) => s.endsWith(`.png`))[0];\n        if (!snapshotFile || !screenshotFile) {\n          return;\n        }\n        const snapshot = JSON.parse(\n          await snapshotFile.async('string'),\n        ) as Snapshot;\n        const screenshotBf = await screenshotFile.async('arraybuffer');\n        await setSnapshot(snapshot, screenshotBf);\n        importNum++;\n      }),\n    );\n  }\n  if (pngfiles.length > 0) {\n    await Promise.any(\n      pngfiles.map(async (file) => {\n        const bf = await file.arrayBuffer();\n        const [tempPngBf, jsonBf] = splitArrayBuffer(bf, pngEndBf, 2);\n        if (!jsonBf) return;\n        const screenshotBf = await new Blob([\n          tempPngBf,\n          pngEndBf,\n        ]).arrayBuffer();\n        const snapshot = JSON.parse(decoder.decode(jsonBf)) as Snapshot;\n        await setSnapshot(snapshot, screenshotBf);\n        importNum++;\n      }),\n    );\n  }\n  if (importNum > 0) {\n    message.success(`导入${importNum}条记录`);\n  } else {\n    message.warning(`没有发现可导入记录`);\n  }\n};\n\nexport const importFromNetwork = async (urls: string[] | string = []) => {\n  if (typeof urls == 'string') {\n    urls = [urls];\n  }\n  if (urls.length == 0) {\n    return;\n  }\n  urls = [...new Set(urls)];\n  const limit = pLimit(2);\n  let importNum = 0;\n  const result = await Promise.allSettled(\n    urls.map((url) => {\n      return limit(async () => {\n        const snapshotId = urlStorage[url];\n        if (snapshotId) {\n          const snapshot = await snapshotStorage.getItem(snapshotId);\n          if (snapshot) {\n            importNum++;\n            return snapshot;\n          }\n        }\n        const resp = await enhanceFetch(url).catch((e) => {\n          message.error(`网络异常: ${new URL(url).host}/${e.message || ''}`);\n          console.warn([`download failed`, url, e]);\n          throw e;\n        });\n        const bf = await resp.arrayBuffer();\n        let snapshot: Snapshot;\n        let screenshotBf: ArrayBuffer;\n        if (isPngBf(bf)) {\n          const [tempPngBf, jsonBf] = splitArrayBuffer(bf, pngEndBf, 2);\n          if (!jsonBf) return;\n          screenshotBf = await new Blob([tempPngBf, pngEndBf]).arrayBuffer();\n          snapshot = JSON.parse(decoder.decode(jsonBf)) as Snapshot;\n        } else if (isZipBf(bf)) {\n          const zip = await loadAsync(bf);\n          const [snapshotFile] = zip.filter((p) => p.endsWith(`.json`));\n          const [screenshotFile] = zip.filter((p) => p.endsWith(`.png`));\n          if (!snapshotFile || !screenshotFile) {\n            return;\n          }\n          screenshotBf = await screenshotFile.async('arraybuffer');\n          snapshot = JSON.parse(await snapshotFile.async('string')) as Snapshot;\n        } else {\n          throw new Error(`file must be png or zip`);\n        }\n        await setSnapshot(snapshot, screenshotBf);\n        importNum++;\n        return snapshot;\n      });\n    }),\n  );\n  if (importNum == 0) {\n    message.warning(`没有发现可导入记录`);\n  } else if (importNum == urls.length) {\n    message.success(`导入${importNum}条快照`);\n  } else if (importNum < urls.length) {\n    message.success(`导入${importNum}条快照，失败${urls.length - importNum}`);\n  }\n  return result;\n};\n"],"names":["e","t","l","v","n","y","b","m","k","s","c","r","u","p","a","d","i","o","f","w","h","P","splitArrayBuffer","arrayBuffer","delimiter","limit","view","delimiterView","delimiterLength","parts","startIndex","delimiterIndex","count","j","part","pngEndBf","decoder","importFromLocal","files","fileOpen","zipfiles","pngfiles","message","importNum","file","zip","loadAsync","snapshotFile","screenshotFile","snapshot","screenshotBf","setSnapshot","bf","tempPngBf","jsonBf","importFromNetwork","urls","pLimit","result","url","snapshotId","urlStorage","snapshotStorage","enhanceFetch","isPngBf","isZipBf"],"mappings":"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","x_google_ignoreList":[0]}